{"version":3,"sources":["webpack:///./src/App.vue?a7a3","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/vuex/getters.js","webpack:///./src/vuex/store.js","webpack:///./src/utils/common.js","webpack:///./src/utils/http.js","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","getters","isLogin","state","data","Vue","use","Vuex","JSON","parse","localStorage","getItem","mutations","SAVE_USERINFO","setItem","stringify_default","store","Store","myUtils","commit","router","push","str","length","test","message","response","notify","code","Notification","error","title","msg","type","fetch","url","params","arguments","undefined","promise_default","a","resolve","reject","axios","get","then","catch","err","defaults","timeout","baseURL","interceptors","request","config","headers","Content-Type","token","loginOut","Router","routes","path","component","e","bind","children","Promise","all","beforeEach","to","from","next","exp","expDate","Date","nowDate","times","getTime","console","log","fullPath","prototype","$post","post","$fetch","$patch","patch","$put","put","ElementUI","productionTip","mavonEditor","el","components","App","template"],"mappings":"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","file":"static/js/app.0a6b693df35e8975b112.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5f797541\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f797541\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n\t\t<!-- 路由出口 -->\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","const getters = {\r\n  isLogin: state => state.data\r\n};\r\nexport default getters\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/getters.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport getters from '../vuex/getters';\r\n\r\nVue.use(Vuex)\r\n\r\nconst state ={\r\n  data:JSON.parse(localStorage.getItem('data'))\r\n}\r\n\r\nconst mutations = {\r\n\tSAVE_USERINFO(state,data){\r\n\t\tlocalStorage.setItem('data',JSON.stringify(data))\r\n    state.data = data\r\n\t}\r\n}\r\nexport default new Vuex.Store({\r\n\tstate,\r\n\tmutations,\r\n  getters\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","import router from '../router'\r\nimport store from '../vuex/store'\r\n\r\nexport default class myUtils {\r\n\r\n  /**\r\n   * 退出登陆\r\n   */\r\n  static loginOut() {\r\n    store.commit('SAVE_USERINFO',null)\r\n    router.push('/login')\r\n  }\r\n\r\n  /**\r\n   * 判断字符串是否为空\r\n   * @param str\r\n   * @returns {boolean}\r\n   */\r\n  static isNull(str) {\r\n    return str == null || str.length === 0 || str === '';\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @desc  判断是否为身份证号\r\n   * @param  {String|Number} str\r\n   * @return {Boolean}\r\n   */\r\n  static isIdCard(str) {\r\n    return /^(^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$)|(^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])((\\d{4})|\\d{3}[Xx])$)$/.test(str)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @desc   判断是否为手机号\r\n   * @param  {String|Number} str\r\n   * @return {Boolean}\r\n   */\r\n  static isPhoneNum(str) {\r\n    return /^(0|86|17951)?(1[3-9][0-9])[0-9]{8}$/.test(str)\r\n  }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/common.js","import axios from 'axios';\r\nimport { Message } from 'element-ui';\r\nimport store from '../vuex/store'\r\nimport { Notification } from 'element-ui';\r\nimport myUtils from './common'\r\n\r\naxios.defaults.timeout = 5000;\r\naxios.defaults.baseURL ='';\r\n\r\n//http request 拦截器\r\naxios.interceptors.request.use(\r\n  config => {\r\n    // const token = getCookie('名称');注意使用的时候需要引入cookie方法，推荐js-cookie\r\n    config.data = JSON.stringify(config.data);\r\n    if(\"/api/user/login\" != config.url){\r\n      config.headers = {\r\n        'Content-Type':'application/json',\r\n        'token':store.getters.isLogin.token\r\n      }\r\n    }else{\r\n      config.headers = {\r\n        'Content-Type':'application/json'\r\n      }\r\n    }\r\n    // if(token){\r\n    //   config.params = {'token':token}\r\n    // }\r\n    return config;\r\n  },\r\n  error => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\n//http response 拦截器\r\naxios.interceptors.response.use(\r\n  response => {\r\n    // console.log(response.data.code);\r\n    if(response.data.code ==400){\r\n      myUtils.loginOut()\r\n    }\r\n    return response;\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n/**\r\n * 提示\r\n */\r\nfunction message(response,notify){\r\n  // console.log(response);\r\n  // console.log(response.data.code);\r\n  // console.log(response.data.data.msg);\r\n  if(notify){\r\n    if(response.data.code === 400){\r\n      Notification.error({\r\n        title: '错误',\r\n        message: response.data.data.msg,\r\n        type: 'warning'\r\n      });\r\n    }\r\n    if(response.data.code === 200){\r\n      Notification({\r\n        title: '成功',\r\n        message: response.data.data.msg,\r\n        type: 'success'\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 封装get方法\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\nexport function fetch(url,params={},notify){\r\n  return new Promise((resolve,reject) => {\r\n    axios.get(url,{\r\n      params:params\r\n    })\r\n      .then(response => {\r\n        message(response,notify);\r\n        resolve(response.data);\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * 封装post请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\nexport function post(url,data = {},notify){\r\n  return new Promise((resolve,reject) => {\r\n    axios.post(url,data)\r\n      .then(response => {\r\n        message(response,notify);\r\n        resolve(response.data);\r\n      },err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * 封装patch请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\nexport function patch(url,data = {},notify){\r\n  return new Promise((resolve,reject) => {\r\n    axios.patch(url,data)\r\n      .then(response => {\r\n        message(response,notify);\r\n        resolve(response.data);\r\n      },err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * 封装put请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\nexport function put(url,data = {},notify){\r\n  return new Promise((resolve,reject) => {\r\n    axios.put(url,data)\r\n      .then(response => {\r\n        message(response,notify);\r\n        resolve(response.data);\r\n      },err => {\r\n        reject(err)\r\n      })\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/http.js","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from '../vuex/store'\r\nconst login = ()=>import('@/components/login')\r\nconst index = ()=>import('@/components/index')\r\nconst userList = ()=>import('@/components/userList')\r\nconst home = ()=>import('@/components/home')\r\nconst passwordEdit = ()=>import('@/components/passwordEdit')\r\nconst articleEdit = ()=>import('@/components/articleEdit')\r\nconst articleList = ()=>import('@/components/articleList')\r\nimport {fetch} from '../utils/http'\r\n\r\nVue.use(Router)\r\n\r\nconst routes =  [\r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: login\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'index',\r\n    component: index,\r\n    children:[\r\n      {\r\n        path: '',\r\n        name: 'home',\r\n        component: home\r\n      },\r\n      {\r\n        path: '/userList',\r\n        name: 'userList',\r\n        component: userList\r\n      },\r\n      {\r\n        path: '/passwordEdit',\r\n        name: 'passwordEdit',\r\n        component: passwordEdit\r\n      },\r\n      {\r\n        path: '/articleEdit',\r\n        name: 'articleEdit',\r\n        component: articleEdit\r\n      },\r\n      {\r\n        path: '/articleList',\r\n        name: 'articleList',\r\n        component: articleList\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nconst router = new Router({\r\n  routes\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if(store.getters.isLogin){\r\n    var exp = store.getters.isLogin.exp;\r\n    var expDate = new Date(exp);\r\n    var nowDate = new Date();\r\n    var times = expDate.getTime()-nowDate.getTime()\r\n    console.log(times)\r\n    if(times < 30000){\r\n      fetch('/api/user/refreshToken')\r\n      .then(response=>{\r\n        console.log(response.data)\r\n        store.commit('SAVE_USERINFO',response.data)\r\n      })\r\n    }\r\n    next()\r\n  }else{\r\n    if(to.fullPath==='/login'){\r\n      next();\r\n    }else{\r\n      next('/login')\r\n    }\r\n  }\r\n})\r\n\r\nexport default router;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue';\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './vuex/store'\r\nimport axios from 'axios'\r\nimport mavonEditor from 'mavon-editor'\r\nimport 'mavon-editor/dist/css/index.css'\r\nimport myUtils from './utils/common'\r\n\r\n\r\nimport {post,fetch,patch,put} from './utils/http'\r\n//定义全局变量\r\nVue.prototype.$post=post;\r\nVue.prototype.$fetch=fetch;\r\nVue.prototype.$patch=patch;\r\nVue.prototype.$put=put;\r\n\r\n\r\nVue.prototype.axios = axios;\r\nVue.prototype.myUtils = myUtils;\r\nVue.use(ElementUI);\r\nVue.config.productionTip = false\r\nVue.use(mavonEditor)\r\n\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}